{"ts":1346185063296,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"module SimpleNavigation\n  module Renderer\n    class Bootstrap < SimpleNavigation::Renderer::Base\n      def render(item_container)\n        config_selected_class = SimpleNavigation.config.selected_class\n        SimpleNavigation.config.selected_class = 'active'\n        list_content = item_container.items.inject([]) do |list, item|\n          li_options = item.html_options.reject {|k, v| k == :link}\n          li_content = tag_for(item, li_options.delete(:icon))\n          if include_sub_navigation?(item)\n            item.sub_navigation.dom_class = [item.sub_navigation.dom_class, 'dropdown-menu'].flatten.compact.join(' ')\n            li_content << render_sub_navigation_for(item)\n            li_options[:class] = [li_options[:class], 'dropdown'].flatten.compact.join(' ')\n          end\n          list << content_tag(:li, li_content, li_options)\n        end.join\n        SimpleNavigation.config.selected_class = config_selected_class\n        if skip_if_empty? && item_container.empty?\n          ''\n        else\n          item_container.brand ||= \"Debug\"\n          brand = content_tag(:p, item_container.brand, {:class=> \"brand\"}).html_safe\n          brand + content_tag(:ul, list_content, {:id => item_container.dom_id, :class => item_container.dom_class}) \n        end\n      end\n\n      protected\n\n      def tag_for(item, icon = nil)\n        url = item.url\n        link = Array.new\n        link << content_tag(:i, '', :class => [icon].flatten.compact.join(' ')) unless icon.nil?\n        link << item.name\n        if include_sub_navigation?(item)\n          url = '#'\n          item_options = item.html_options\n          item_options[:link] = Hash.new if item_options[:link].nil?\n          item_options[:link][:class] = Array.new if item_options[:link][:class].nil?\n          item_options[:link][:class] << 'dropdown-toggle'\n          item_options[:link][:'data-toggle'] = 'dropdown'\n          item.html_options = item_options\n          link << content_tag(:b, '', :class => 'caret')\n        end\n        link_to(link.join(\" \"), url, options_for(item))\n      end\n    end\n  end\nend\n"]],"start1":0,"start2":0,"length1":0,"length2":2078}]],"length":2078}
{"contributors":[],"silentsave":false,"ts":1346185238575,"patch":[[{"diffs":[[0,"   i"],[-1,"tem_container.brand ||= \"Debug\"\n          brand "],[1,"f brand=SimpleNavigation.config.brand then list_content +"],[0,"= co"]],"start1":1018,"start2":1018,"length1":56,"length2":65},{"diffs":[[0,"tag(:p, "],[-1,"item_container."],[0,"brand, {"]],"start1":1089,"start2":1089,"length1":31,"length2":16},{"diffs":[[0,"tml_safe"],[1," end"],[0,"\n       "]],"start1":1125,"start2":1125,"length1":16,"length2":20},{"diffs":[[0,"    "],[-1," brand +"],[0," con"]],"start1":1143,"start2":1143,"length1":16,"length2":8}]],"length":2068,"saved":false}
